<macros>
    <token name="@TOOL_VERSION@">1.3.0</token>

    <xml name="citations">
        <citations>
        <citation type="doi">10.1021/acs.analchem.9b02354</citation>
        <citation type="doi">10.1093/bioinformatics/btad455</citation>
        </citations>
    </xml>

    <xml name="ionisation">
        <param label="ionisation" name="ionisation" type="select" help="ionisation. positive +1 or negative -1">
            <option value="1">positive</option>
            <option value="-1">negative</option>
        </param>
    </xml>

    <xml name="ppm">
        <param name="ppm" type="float" value="100" min="0">
            <label>ppm between isotopes</label>
            <help>Maximum ppm value allowed between 2 isotopes. Default value 100.</help>
        </param>
    </xml>

    <xml name="ms_unknown">
        <param name="ppmunk" type="float" optional="true" min="0">
            <label>ppm for unknown</label>
            <help>ppm associated to the 'unknown' annotation. If not provided equal to ppm.</help>
        </param>
        <param name="ratiounk" type="float" optional="true" value="0.5" min="0">
            <label>isotope ratio for unknown</label>
            <help>isotope ratio associated to the 'unknown' annotation.</help>
        </param>
    </xml>

    <xml name="ms_options">
        <param name="ratiosd" type="float" value="0.9" optional="true" min="0">
            <label>intensity ratio</label>
            <help>acceptable ratio between predicted intensity and observed intensity of isotopes</help>
        </param>
        <param name="ppmthr" type="float" optional="true" min="0">
            <label>ppm threshold</label>
            <help>maximum ppm possible for the annotations. if not provided equal to 2*ppm.</help>
        </param>
        <param name="pRTNone" type="float" optional="true" value="0.8" min="0">
            <label>no RT factor</label>
            <help>multiplicative factor for the RT if no RTrange present in the database.</help>
        </param>
        <param name="pRTout" type="float" optional="true" value="0.4" min="0">
            <label>outside RT factor</label>
            <help>multiplicative factor for the RT if measured RT is outside the RTrange present in the database.</help>
        </param>
    </xml>
    <xml name="gibbs">
        <param label="Mapped isotope patterns" name="mapped_isotope_patterns" type="data" format="csv,tsv,tabular,parquet" help="A csv file containing the MS1 data. Ideally obtained from map_isotope_patterns."/>
        <param label="annotations" name="annotations" type="data" format="csv,tsv,tabular,parquet" help="pandas dataframe containing all the possible annotations for the measured features."/>
        <param label="gibbs sampler iterations" name="noits" type="integer" value="1000" help="number of iterations if the Gibbs sampler to be run."/>
        <param label="ignored iterations" name="burn" type="integer" optional="true" value="10" help="number of iterations to be ignored when computing posterior probabilities. If None, is set to 10% of total iterations."/>
        <param label="output Gibbs parameter" name="all_out" type="boolean" value="false" optional="true" help="logical value. If true the list of assignments found in each iteration is returned by the function. Default False."/>
        <param label="previous Gibbs sampler" name="zs" type="data" format="txt" optional="true" help="list of assignments computed in a previous run of the Gibbs sampler. Optional, default None."/>
    </xml>

    <xml name="requirements">
        <requirements>
            <requirement type="package" version="@TOOL_VERSION@">ipapy2</requirement>
            <requirement type="package" version="19.0.0">pyarrow</requirement>
            <requirement type="package" version="2024.11.0">fastparquet</requirement>
        </requirements>
    </xml>

    <xml name="connections">
        <option value='C3H5NO'>C3H5NO</option>
        <option value='C6H12N4O'>C6H12N4O</option>
        <option value='C4H6N2O2'>C4H6N2O2</option>                                                                                                          "C4H5NO3
        <option value='C3H5NOS'>C3H5NOS</option>
        <option value='C6H10N2O3S2'>C6H10N2O3S2</option>
        <option value='C5H7NO3'>C5H7NO3</option>
        <option value='C5H8N2O2'>C5H8N2O2</option>
        <option value='C2H3NO'>C2H3NO</option>
        <option value='C6H7N3O'>C6H7N3O</option>
        <option value='C6H11NO'>C6H11NO</option>
        <option value='C6H11NO'>C6H11NO</option>
        <option value='C6H12N2O'>C6H12N2O</option>
        <option value='C5H9NOS'>C5H9NOS</option>
        <option value='C9H9NO'>C9H9NO</option>
        <option value='C5H7NO'>C5H7NO</option>
        <option value='C3H5NO2'>C3H5NO2</option>
        <option value='C4H7NO2'>C4H7NO2</option>
        <option value='C11H10N2O'>C11H10N2O</option>
        <option value='C9H9NO2'>C9H9NO2</option>
        <option value='C5H9NO'>C5H9NO</option>
        <option value='C4H4O2'>C4H4O2</option>
        <option value='C3H5O'>C3H5O</option>
        <option value='C10H12N5O6P'>C10H12N5O6P</option>
        <option value='C10H15N2O3S'>C10H15N2O3S</option>
        <option value='C10H14N2O2S'>C10H14N2O2S</option>
        <option value='CH2ON'>CH2ON</option>
        <option value='C21H34N7O16P3S'>C21H34N7O16P3S</option>
        <option value='C21H33N7O15P3S'>C21H33N7O15P3S</option>
        <option value='C10H15N3O5S'>C10H15N3O5S</option>
        <option value='C5H7'>C5H7</option>
        <option value='C3H2O3'>C3H2O3</option>
        <option value='C16H30O'>C16H30O</option>
        <option value='C8H8NO5P'>C8H8NO5P</option>
        <option value='CH3N2O'>CH3N2O</option>
        <option value='C5H4N5'>C5H4N5</option>
        <option value='C10H11N5O3'>C10H11N5O3</option>
        <option value='C10H13N5O9P2'>C10H13N5O9P2</option>
        <option value='C10H12N5O6P'>C10H12N5O6P</option>
        <option value='C9H13N3O10P2'>C9H13N3O10P2</option>
        <option value='C9H12N3O7P'>C9H12N3O7P</option>
        <option value='C4H4N3O'>C4H4N3O</option>
        <option value='C10H13N5O10P2'>C10H13N5O10P2</option>
        <option value='C10H12N5O7P'>C10H12N5O7P</option>
        <option value='C5H4N5O'>C5H4N5O</option>
        <option value='C10H11N5O4'>C10H11N5O4</option>
        <option value='C10H14N2O10P2'>C10H14N2O10P2</option>
        <option value='C10H12N2O4'>C10H12N2O4</option>
        <option value='C5H5N2O2'>C5H5N2O2</option>
        <option value='C10H13N2O7P'>C10H13N2O7P</option>
        <option value='C9H12N2O11P2'>C9H12N2O11P2</option>
        <option value='C9H11N2O8P'>C9H11N2O8P</option>
        <option value='C4H3N2O2'>C4H3N2O2</option>
        <option value='C9H10N2O5'>C9H10N2O5</option>
        <option value='C2H3O2'>C2H3O2</option>
        <option value='C2H2O'>C2H2O</option>
        <option value='C2H2'>C2H2</option>
        <option value='CO2'>CO2</option>
        <option value='CHO2'>CHO2</option>
        <option value='H2O'>H2O</option>
        <option value='H3O6P2'>H3O6P2</option>
        <option value='C2H4'>C2H4</option>
        <option value='CO'>CO</option>
        <option value='C2O2'>C2O2</option>
        <option value='H2'>H2</option>
        <option value='O'>O</option>
        <option value='P'>P</option>
        <option value='C2H2O'>C2H2O</option>
        <option value='CH2'>CH2</option>
        <option value='HPO3'>HPO3</option>
        <option value='NH2'>NH2</option>
        <option value='PP'>PP</option>
        <option value='NH'>NH</option>
        <option value='SO3'>SO3</option>
        <option value='N'>N</option>
        <option value='C6H10O5'>C6H10O5</option>
        <option value='C6H10O6'>C6H10O6</option>
        <option value='C5H8O4'>C5H8O4</option>
        <option value='C12H20O11'>C12H20O11</option>
        <option value='C6H11O8P'>C6H11O8P</option>
        <option value='C6H8O6'>C6H8O6</option>
        <option value='C6H10O5'>C6H10O5</option>
        <option value='C18H30O15'>C18H30O15</option>
    </xml>
</macros>